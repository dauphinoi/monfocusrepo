<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}monFocus{% endblock %}</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'monFocusprof/css/style.css' %}">
    <link rel="stylesheet" href="{% static 'monFocusprof/css/style_about.css' %}">
    <link rel="stylesheet" href="{% static 'accounts/css/footer.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Favicon principal -->
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    
    <!-- Favicons pour différentes tailles et plateformes -->
    <link rel="apple-touch-icon" sizes="57x57" href="{% static 'monFocusprof/images/apple-icon-57x57.png' %}">
    <link rel="apple-touch-icon" sizes="60x60" href="{% static 'monFocusprof/images/apple-icon-60x60.png' %}">
    <link rel="apple-touch-icon" sizes="72x72" href="{% static 'monFocusprof/images/apple-icon-72x72.png' %}">
    <link rel="apple-touch-icon" sizes="76x76" href="{% static 'monFocusprof/images/apple-icon-76x76.png' %}">
    <link rel="apple-touch-icon" sizes="114x114" href="{% static 'monFocusprof/images/apple-icon-114x114.png' %}">
    <link rel="apple-touch-icon" sizes="120x120" href="{% static 'monFocusprof/images/apple-icon-120x120.png' %}">
    <link rel="apple-touch-icon" sizes="144x144" href="{% static 'monFocusprof/images/apple-icon-144x144.png' %}">
    <link rel="apple-touch-icon" sizes="152x152" href="{% static 'monFocusprof/images/apple-icon-152x152.png' %}">
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'monFocusprof/images/apple-icon-180x180.png' %}">
    <link rel="icon" type="image/png" sizes="192x192" href="{% static 'monFocusprof/images/android-icon-192x192.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'monFocusprof/images/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="96x96" href="{% static 'monFocusprof/images/favicon-96x96.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'monFocusprof/images/favicon-16x16.png' %}">
    
    <!-- Manifest pour les applications web progressives -->
    <link rel="manifest" href="{% static 'monFocusprof/images/manifest.json' %}">
    
    <!-- Méta tags pour Microsoft -->
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="{% static 'monFocusprof/images/ms-icon-144x144.png' %}">
    <meta name="theme-color" content="#ffffff">
    
    <!-- Open Graph meta tags -->
    <meta property="og:title" content="monFocus - {% block og_title %}{% endblock %}">
    <meta property="og:description" content="{% block og_description %}Plateforme innovante d'enseignement{% endblock %}">
    <meta property="og:image" content="https://monfocus.fr{% static 'monFocusprof/images/apple-icon-180x180.png' %}">
    <meta property="og:url" content="https://monfocus.fr{{ request.path }}">
    <meta property="og:type" content="website">

    <!-- Twitter Card meta tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="monFocus - {% block twitter_title %}{% endblock %}">
    <meta name="twitter:description" content="{% block twitter_description %}Plateforme innovante d'enseignement{% endblock %}">
    <meta name="twitter:image" content="https://monfocus.fr{% static 'monFocusprof/images/apple-icon-180x180.png' %}">
    {% block extra_css %}{% endblock %}
    <style>
.footer {
    flex-shrink: 0;
    background-color: #001b44;
    color: white;
}
.footer-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around;
    padding: 20px;
    max-width: 1200px;
    margin: 0 auto;
}
.footer-logo, .footer-section {
    margin-bottom: 20px;
}
.footer-logo {
    display: flex;
    align-items: center;
}
.footer-logo img {
    height: 30px;
    margin-right: 10px;
}
.footer-section h3 {
    margin-bottom: 10px;
}
.footer-section ul {
    list-style: none;
    padding: 0;
}
.footer-section ul li {
    margin-bottom: 5px;
}
.footer-section ul li a {
    color: white;
    text-decoration: none;
}
.social-links {
    display: flex;
    gap: 10px;
}
.footer-bottom {
    text-align: center;
    padding: 10px;
    border-top: 1px solid rgba(255,255,255,0.1);
}
@media (max-width: 768px) {
    .footer-container {
        flex-direction: column;
        align-items: center;
    }
    .footer-section {
        width: 100%;
        text-align: center;
    }
    .social-links {
        justify-content: center;
    }
}

#renseignement-link {
    cursor: pointer;
}
    </style>
</head>
<!-- Données structurées JSON-LD -->
<script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "monFocus",
      "url": "https://monfocus.fr",
      "logo": "https://monfocus.fr{% static 'monFocusprof/images/apple-icon-180x180.png' %}",
      "sameAs": [
        "https://twitter.com/monFocus",
        "https://www.linkedin.com/company/monFocus",
        "https://www.youtube.com/monFocus",
        "https://github.com/monFocus"
      ]
    }
    </script>   
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-D1K1Z2HX5X"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-D1K1Z2HX5X');
</script>
<body>
    {% block header %}
    <header id="main-header">
        <div class="logo">
            <img src="{% static 'monFocusprof/images/lllo.svg' %}" alt="monFocusprof">
            <span>monFocus</span>
        </div>
        <nav>
            <div class="menu">
                <a href="{% url 'index' %}">Accueil</a>
                <a href="{% url 'index' %}" id="renseignement-link" data-current-page="{{ request.resolver_match.url_name }}">Je me renseigne</a>
                <!-- <div class="dropdown">
                    <a href="#">Nos offres</a>
                    <div class="dropdown-content">
                        <a href="{% url 'product' %}">Lunette monFocus</a>
                        <a href="#">Enseignant(e)</a>
                    </div>
                </div> -->
                <a href="{% url 'accounts:postuler_with_step' step=1 %}" class="btn-devenir">Devenir enseignant <i class="fas fa-arrow-right icon"></i></a>
                <a href="{% url 'accounts:login_view' %}" class="btn-connect"><i class="fas fa-lock icon"></i> Se connecter à mon espace</a>
            </div>
        </nav>
        <button class="menu-toggle">☰</button>
    </header>
    {% endblock %}

    {% block content %}
    {% endblock %}
    
    <!-- <script src="{% static 'monFocusprof/js/main.js' %}"></script> -->
    {% block extra_js %}{% endblock %}
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-logo">
                <img src="{% static 'monFocusprof/images/lllo.svg' %}" alt="Logo">
                <span>monFocus</span>
            </div>
            <div class="footer-section">
                <h3>Entreprise</h3>
                <ul>
                    <li><a href="#">À propos</a></li>
                    <li><a href="#">Recherche</a></li>
                    <li><a href="#">Carrières</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Nos offres</h3>
                <ul>
                    <li><a href="#">Nos partenaires</a></li>
                    <li><a href="#">Support 24/7 avec l'IA monFocus</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Social Links</h3>
                <ul class="social-links">
                    <li><a href="#"><i class="fab fa-x-twitter"></i></a></li>
                    <li><a href="#"><i class="fab fa-linkedin"></i></a></li>
                    <li><a href="#"><i class="fab fa-youtube"></i></a></li>
                    <li><a href="#"><i class="fab fa-github"></i></a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>monFocus Inc ©2024</p>
            <a href="#top">Aller en haut <i class="fas fa-arrow-up"></i></a>
        </div>
    </footer>   
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const timestamp = new Date().getTime();
            const backgroundUrl = `{% static 'monFocusprof/images/back.svg' %}?v=${timestamp}`;
            document.body.style.backgroundImage = `url('${backgroundUrl}')`;
        });

        document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('institutionContactForm');
    const successModal = document.getElementById('success-modal');
    const loadingOverlay = document.getElementById('loadingOverlay');

    form.addEventListener('submit', function(e) {
        e.preventDefault();

        // Afficher l'overlay de chargement
        loadingOverlay.style.display = 'flex';

        fetch(form.action, {
            method: 'POST',
            body: new FormData(form),
            headers: {
                'X-Requested-With': 'XMLHttpRequest',
            }
        })
        .then(response => response.json())
        .then(data => {
            // Cacher l'overlay de chargement
            loadingOverlay.style.display = 'none';

            if (data.success) {
                successModal.style.display = 'block';
            }
        })
        .catch(error => {
            // Cacher l'overlay de chargement en cas d'erreur
            loadingOverlay.style.display = 'none';
            console.error('Error:', error);
            // Ici, vous pouvez ajouter un code pour gérer les erreurs, par exemple afficher un message d'erreur à l'utilisateur
        });
    });
});

// Script to change the header background color on scroll
window.addEventListener('scroll', function() {
    var header = document.getElementById('main-header');
    var scrollPosition = window.scrollY;

    if (scrollPosition > 50) {
        header.style.backgroundColor = 'hsl(240, 100%, 25%)'; // Change to the desired background color
        header.style.transition = 'background-color 0.3s'; // Smooth transition
    } else {
        header.style.backgroundColor = 'transparent'; // Initial transparent background
    }
});

document.addEventListener('DOMContentLoaded', function() {
    const renseignementLink = document.getElementById('renseignement-link');
    const currentPage = renseignementLink?.getAttribute('data-current-page');
    
    if (renseignementLink) {
        renseignementLink.addEventListener('click', function(e) {
            e.preventDefault();
            
            if (currentPage !== 'index') {
                // Si on n'est pas sur la page d'accueil, rediriger avec un paramètre
                window.location.href = this.href + '?highlight=true';
            } else {
                // Si on est déjà sur la page d'accueil, juste faire l'effet
                highlightSection();
            }
        });
    }

    function highlightSection() {
        const profileSection = document.getElementById('profile-section');
        if (profileSection) {
            // Scroll doux vers la section
            // profileSection.scrollIntoView({ behavior: 'smooth' });

            profileSection.style.transition = 'background-color 0.5s ease';
            profileSection.style.backgroundColor = 'green'; // Vert semi-transparent
            
            setTimeout(() => {
                profileSection.style.backgroundColor = ''; // Retour à la couleur originale
            }, 2000);
        } else {
            console.warn("La section 'profile-section' n'a pas été trouvée.");
        }
    }

    // Vérifier si on vient d'arriver sur la page avec le paramètre highlight
    if (currentPage === 'index' && new URLSearchParams(window.location.search).get('highlight') === 'true') {
        highlightSection();
        // Nettoyer l'URL
        history.replaceState(null, '', window.location.pathname);
    }

    // Nouvelle partie pour la gestion du menu responsive
    const menuToggle = document.querySelector('.menu-toggle');
    const nav = document.querySelector('nav');

    if (menuToggle && nav) {
        menuToggle.addEventListener('click', function() {
            nav.classList.toggle('active');
        });
    }

    // Gestion améliorée des sous-menus pour la version mobile
    const dropdowns = document.querySelectorAll('.dropdown');
    dropdowns.forEach(dropdown => {
        const dropdownToggle = dropdown.querySelector('a');
        const dropdownContent = dropdown.querySelector('.dropdown-content');
        
        if (dropdownToggle && dropdownContent) {
            dropdownToggle.addEventListener('click', function(e) {
                if (window.innerWidth <= 768) {
                    e.preventDefault();
                    dropdownContent.style.display = dropdownContent.style.display === 'block' ? 'none' : 'block';
                }
            });

            const dropdownLinks = dropdownContent.querySelectorAll('a');
            dropdownLinks.forEach(link => {
                link.addEventListener('click', function() {
                    if (window.innerWidth <= 768) {
                        // Ne pas empêcher la navigation pour les liens internes
                        dropdownContent.style.display = 'none';
                    }
                });
            });
        }
    });
});
    </script> 
</body>
</html>
